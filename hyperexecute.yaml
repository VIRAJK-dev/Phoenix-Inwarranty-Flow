version: "0.1"
runson: linux

# Pre steps install the tools needed on the VM
pre:
  - npm install -g newman
  - npm install -g newman-reporter-htmlextra

# testDiscovery tells HyperExecute how many tests to run. 
# For a single Postman collection, we just echo a dummy value so it runs once.
testDiscovery:
  type: raw
  mode: dynamic
  command: echo "postman-test"

# This is where your actual Newman command goes
testRunnerCommand: >
  newman run "Inwarranty-flow Collection.postman_collection.json" 
  -e QA.postman_environment.json 
  -d testData.csv 
  -r cli,htmlextra 
  --reporter-htmlextra-export newman/index.html

jobLabel: [postman, inwarranty]
