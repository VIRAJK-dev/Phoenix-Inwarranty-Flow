version: "0.1"
runson: linux

# These steps set up the environment on the LambdaTest machine
pre:
  - npm install -g newman
  - npm install -g newman-reporter-htmlextra

# testDiscovery tells HyperExecute how many tests to run.
# For a single collection, we use a simple echo to trigger 1 scenario.
testDiscovery:
  type: raw
  mode: dynamic
  command: echo "Postman-API-Tests"

# This is the command that HyperExecute tracks as a "Scenario"
# $test refers to the output of the discovery command above
testRunnerCommand: >
  newman run "Inwarranty-flow Collection.postman_collection.json" 
  -e QA.postman_environment.json 
  -d testData.csv 
  -r cli,htmlextra 
  --reporter-htmlextra-export newman/index.html

# Optional: Gives your job a searchable name in the dashboard
jobLabel: [Postman, InwarrantyFlow]
