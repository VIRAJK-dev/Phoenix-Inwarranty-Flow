version: "0.1"

runson: linux

pre:
  - echo "=== PRE STAGE STARTED ==="
  - node --version || echo "Node not installed"
  - npm --version || echo "NPM not installed"
  - npm install -g newman
  - newman --version

run:
  - name: Postman_API_Tests
    command:
      - echo "=== TEST STAGE STARTED ==="
      - echo "Listing files in workspace"
      - ls -l
      - echo "Running Postman collection"
      - newman run "Inwarranty-flow Collection.postman_collection.json" \
          -e QA.postman_environment.json \
          -d testData.csv

post:
  - echo "=== POST STAGE STARTED ==="
  - echo "Postman execution completed"
