name: Postman Collection â€“ LambdaTest

on:
  workflow_dispatch:

jobs:
  run-postman-lambdatest:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v5

      - name: Install LambdaTest HyperExecute
        run: |
          curl -fsSL https://downloads.lambdatest.com/hyperexecute/linux/hyperexecute -o hyperexecute
          chmod +x hyperexecute
          sudo mv hyperexecute /usr/local/bin/hyperexecute

      - name: Verify HyperExecute installation
        run: hyperexecute --version

      - name: Run Postman Collection on LambdaTest
        env:
          LT_USERNAME: ${{ secrets.LT_USERNAME }}
          LT_ACCESS_KEY: ${{ secrets.LT_ACCESS_KEY }}
        run: |
          hyperexecute --config hyperexecute.yaml
